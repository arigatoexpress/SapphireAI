{{- if .Values.secrets.syncFromGcp }}
apiVersion: v1
kind: Secret
metadata:
  name: cloud-trader-secrets
  namespace: {{ .Values.global.namespace | default "trading" }}
  labels:
    {{- include "trading-system.labels" . | nindent 4 }}
    app: secrets
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade
    "helm.sh/hook-weight": "-5"
    "helm.sh/resource-policy": keep
type: Opaque
data:
  # These will be populated by sync-gcp-secrets-to-k8s.sh script
  # or manually via: kubectl create secret generic cloud-trader-secrets \
  #   --from-literal=ASTER_API_KEY="..." --from-literal=ASTER_SECRET_KEY="..." \
  #   --namespace=trading --dry-run=client -o yaml | kubectl apply -f -
  #
  # To sync from GCP Secret Manager, run:
  # ./scripts/sync-gcp-secrets-to-k8s.sh
  ASTER_API_KEY: ""
  ASTER_SECRET_KEY: ""
  TELEGRAM_BOT_TOKEN: ""
  TELEGRAM_CHAT_ID: ""
  GRAFANA_ADMIN_PASSWORD: ""
  {{- if .Values.secrets.includeGrok }}
  GROK4_API_KEY: ""
  {{- end }}
  {{- if .Values.secrets.includeGemini }}
  GEMINI_API_KEY: ""
  {{- end }}
{{- end }}
