FROM python:3.11-slim

WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir fastapi uvicorn httpx

# Copy the dashboard script
COPY infra/dashboard/simple_dashboard.py .

# Copy static files
COPY infra/dashboard/static /app/static

ENV PORT=8080
EXPOSE 8080

CMD ["python", "-m", "uvicorn", "simple_dashboard:app", "--host", "0.0.0.0", "--port", "8080"]

