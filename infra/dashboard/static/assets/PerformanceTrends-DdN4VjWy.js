import{r as v,j as e}from"./index-DpmCvXBn.js";const M=({trades:g})=>{const[n,d]=v.useState(["all"]),[f,N]=v.useState("24h"),u=Array.from(new Set(g.map(t=>t.model??"Unknown Model"))),b=new Date,w={"1h":60*60*1e3,"24h":24*60*60*1e3,"7d":7*24*60*60*1e3},o=g.filter(t=>{const s=new Date(t.timestamp);return b.getTime()-s.getTime()<=w[f]}),y=t=>{const s=o.filter(l=>(l.model??"Unknown Model")===t&&l.pnl!==void 0);let i=0;return s.map(l=>(i+=l.pnl,{time:new Date(l.timestamp),pnl:i,trade:l}))},x=t=>({"DeepSeek-V3":"#10B981","Qwen2.5-7B":"#3B82F6","Phi-3 Medium":"#F59E0B","Mistral-7B":"#EF4444",Unknown:"#6B7280"})[t]||"#6B7280",j=t=>{if(t==="all")d(["all"]);else if(n.includes("all"))d([t]);else if(n.includes(t)){const s=n.filter(i=>i!==t);d(s.length===0?["all"]:s)}else d([...n.filter(s=>s!=="all"),t])},h=Math.max(...o.map(t=>Math.abs(t.pnl||0)),100),r=200,m=600;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Performance Trends"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-slate-600",children:"Time:"}),e.jsxs("select",{value:f,onChange:t=>N(t.target.value),className:"px-2 py-1 border border-slate-300 rounded text-sm",children:[e.jsx("option",{value:"1h",children:"1 Hour"}),e.jsx("option",{value:"24h",children:"24 Hours"}),e.jsx("option",{value:"7d",children:"7 Days"})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("button",{onClick:()=>j("all"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n.includes("all")?"bg-slate-900 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"All Models"}),u.map(t=>e.jsx("button",{onClick:()=>j(t),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n.includes(t)||n.includes("all")?"text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,style:{backgroundColor:n.includes(t)||n.includes("all")?x(t):void 0},children:t},t))]}),e.jsxs("div",{className:"relative bg-slate-50 rounded-lg p-4",children:[e.jsxs("svg",{width:m,height:r,className:"overflow-visible",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"50",height:"20",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 50 0 L 0 0 0 20",fill:"none",stroke:"#E2E8F0",strokeWidth:"1"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),e.jsx("line",{x1:"0",y1:r/2,x2:m,y2:r/2,stroke:"#94A3B8",strokeWidth:"1",strokeDasharray:"2,2"}),e.jsx("text",{x:"-10",y:r/2-5,textAnchor:"end",className:"text-xs fill-slate-500",children:"$0"}),e.jsxs("text",{x:"-10",y:"15",textAnchor:"end",className:"text-xs fill-green-600",children:["+$",h.toFixed(0)]}),e.jsxs("text",{x:"-10",y:r-5,textAnchor:"end",className:"text-xs fill-red-600",children:["-$",h.toFixed(0)]}),u.map(t=>{if(!n.includes("all")&&!n.includes(t))return null;const s=y(t);if(s.length===0)return null;const i=s.map((l,a)=>{const c=a/Math.max(s.length-1,1)*m,p=r/2-l.pnl/h*(r/2);return`${c},${p}`}).join(" ");return e.jsxs("g",{children:[e.jsx("polyline",{points:i,fill:"none",stroke:x(t),strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),s.map((l,a)=>{const c=a/Math.max(s.length-1,1)*m,p=r/2-l.pnl/h*(r/2);return e.jsx("circle",{cx:c,cy:p,r:"3",fill:x(t),className:"hover:r-4 transition-all cursor-pointer"},a)})]},t)})]}),o.length===0&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-slate-500",children:[e.jsx("span",{className:"text-4xl mb-2 block",children:"ðŸ“ˆ"}),e.jsx("p",{children:"No trading data available for the selected time range"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:u.map(t=>{const s=o.filter(a=>(a.model??"Unknown Model")===t),i=s.reduce((a,c)=>a+(c.pnl||0),0),l=s.length>0?s.filter(a=>(a.pnl||0)>0).length/s.length:0;return e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x(t)}}),e.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:t})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-xs text-slate-500",children:["Trades: ",s.length]}),e.jsxs("div",{className:`text-sm font-medium ${i>=0?"text-green-600":"text-red-600"}`,children:["P&L: $",i.toFixed(2)]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Win Rate: ",(l*100).toFixed(1),"%"]})]})]},t)})})]})};export{M as default};
